(this.webpackJsonpreact_gallery_app=this.webpackJsonpreact_gallery_app||[]).push([[0],{47:function(e,t,a){e.exports=a(77)},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),o=a.n(c),l=a(13),s=a(14),i=a(15),h=a(16),u=a(11),m=a(10),d=a(43),g=a(18),f=a.n(g),p="8b789a6b58e15a4c6342c35500b436a0",E=a(35),v=function(){return r.a.createElement(E.a,{fluid:!0},r.a.createElement("h1",{className:"display-1 text-center headline"}," Flickr Gallery "))},k=a(80),y=a(37),b=a(78),w=function(e){Object(h.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={queryString:"Search"},e.onSearchChange=function(t){e.setState({queryString:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.searchFlickr(e.state.queryString),e.props.history.push("/search"),t.currentTarget.reset()},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props;e.match,e.location,e.history;return r.a.createElement(E.a,{className:"justify-content-md-center search-bar"},r.a.createElement(k.a,{onSubmit:this.handleSubmit},r.a.createElement(k.a.Row,null,r.a.createElement(y.a,null,r.a.createElement(k.a.Control,{type:"search",name:"search",onChange:this.onSearchChange,placeholder:"Search",required:!0})),r.a.createElement(y.a,{xs:"auto"},r.a.createElement(b.a,{variant:"info",type:"submit",className:"search-button"},"Search")))))}}]),a}(r.a.Component),j=Object(m.f)(w),S=a(79),N=a(81),_=function(e){var t=e.hotTags;if(t.length>0){var a=t[0]._content,n=t[1]._content,c=t[2]._content;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(S.a,null,r.a.createElement(y.a,{xs:"auto"},r.a.createElement("h3",{className:"trending"},"Trending Now:")),r.a.createElement(N.a,null,r.a.createElement(y.a,{xs:"auto"},r.a.createElement(u.b,{to:"/trending/".concat(a),onClick:function(){return e.searchFlickr(a)}},r.a.createElement("h4",null,a))),r.a.createElement(y.a,{xs:"auto"},r.a.createElement(u.b,{to:"/trending/".concat(n),onClick:function(){return e.searchFlickr(n)}},r.a.createElement("h4",null,n))),r.a.createElement(y.a,{xs:"auto"},r.a.createElement(u.b,{to:"/trending/".concat(c),onClick:function(){return e.searchFlickr(c)}},r.a.createElement("h4",null,c))))))}return null},F=function(e){var t={id:e.info.id,secret:e.info.secret,server:e.info.server,farm:e.info.farm,owner:e.info.owner,title:e.info.title};return r.a.createElement("div",{className:"photo-container"},r.a.createElement("a",{href:"https://www.flickr.com/photos/".concat(t.owner,"/").concat(t.id)},r.a.createElement("img",{className:"single-photo",src:"https://farm".concat(t.farm,".staticflickr.com/").concat(t.server,"/").concat(t.id,"_").concat(t.secret,".jpg"),alt:t.title})))},O=function(e){var t,a=e.photos;return console.log(a,e.photos),t=a.length>0?a.map((function(e){return r.a.createElement(F,{info:e,key:e.id})})):!0===e.loading?"Loading...":r.a.createElement("div",{className:"not-found"},r.a.createElement("h3",null,"Sorry, no results for your search term. ")),r.a.createElement("div",{className:"gallery-display"},t)},x=function(){return r.a.createElement("li",{className:"not-found",id:"not-found"},r.a.createElement("h3",null,"No Results Found"),r.a.createElement("p",null,"Sorry, this page does not exist."))},C=function(e){Object(h.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={photos:[],loading:!0,hotTags:[],tagLoading:!0,query:"random"},e.searchFlickr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"random";f.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(p,"&tags=").concat(t,"&per_page=24&format=json&nojsoncallback=1")).then((function(a){e.setState({photos:a.data.photos.photo,loading:!1}),console.log("data fetched for",t)})).catch((function(e){console.log("Error fetching and parsing data",e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(p,"&tags=").concat(this.state.query,"&per_page=24&format=json&nojsoncallback=1")).then((function(t){e.setState({photos:t.data.photos.photo,loading:!1})})).catch((function(e){console.log("Error fetching and parsing data",e)})),f.a.get("https://www.flickr.com/services/rest/?method=flickr.tags.getHotList&api_key=".concat(p,"&count=5&format=json&nojsoncallback=1")).then((function(t){e.setState({hotTags:t.data.hottags.tag,tagLoading:!1})})).catch((function(e){console.log("Error fetching and parsing data",e)}))}},{key:"loading",value:function(){if(this.state.loading)return r.a.createElement(d.a,{animation:"border",variant:"warning"})}},{key:"render",value:function(){var e=this;return r.a.createElement(u.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(v,null),r.a.createElement("br",null),r.a.createElement("div",{className:"nav-area"},r.a.createElement(j,{searchFlickr:this.searchFlickr}),r.a.createElement(_,{searchFlickr:this.searchFlickr,hotTags:this.state.hotTags})),r.a.createElement("div",{className:"photo-container"},this.loading(),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",render:function(){return r.a.createElement(O,{photos:e.state.photos,loading:e.state.loading})}}),r.a.createElement(m.a,{path:"/search",render:function(t){return r.a.createElement(O,Object.assign({},t,{photos:e.state.photos,loading:e.state.loading}))}}),r.a.createElement(m.a,{path:"/trending/:trending",render:function(t){return r.a.createElement(O,Object.assign({},t,{photos:e.state.photos,loading:e.state.loading}))}}),r.a.createElement(m.a,{component:function(){if(!1===e.state.loading)return r.a.createElement(x,null)}})))))}}]),a}(r.a.Component);a(75),a(76);o.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.ebaf57e1.chunk.js.map